<!-- C:\Users\Vladimir\Documents\Sistema tickets\frontend-angular\src\app\inventario\carga-masiva\carga-masiva.component.html -->

<div class="p-4 max-w-5xl mx-auto">
    <h2 class="text-xl font-bold mb-4">Carga Masiva de Inventario</h2>
  
    <input type="file" accept=".csv, .xlsx" (change)="onFileChange($event)" class="mb-4" />
  
    <div *ngIf="datosPreview.length > 0">
      <h3 class="text-lg font-semibold mb-2">Vista previa</h3>
  
      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-300 mb-4">
          <thead>
            <tr>
              <th *ngFor="let col of columnas" class="border px-2 py-1">{{ col }}</th>
            </tr>
            <tr>
              <th *ngFor="let col of columnas" class="border px-2 py-1">
                <select [(ngModel)]="mapeo[col]" class="w-full border px-1 py-1">
                  <option value="">-- Ignorar --</option>
                  <option value="descripcion">Descripción</option>
                  <option value="categoria">Categoría</option>
                  <option value="unidad">Unidad</option>
                  <option value="sucursal">Sucursal</option>
                  <option value="stock_actual">Stock Actual</option>
                  <option value="gasto_mes">Gasto Mensual</option>
                  <option value="pedido_mes">Pedido Mensual</option>
                  <option value="fecha_inventario">Fecha de Inventario</option>
                </select>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let fila of datosPreview">
              <td *ngFor="let col of columnas" class="border px-2 py-1">{{ fila[col] }}</td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <button (click)="enviarDatos()" class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700">
        Cargar a BD
      </button>
    </div>
  </div>
  