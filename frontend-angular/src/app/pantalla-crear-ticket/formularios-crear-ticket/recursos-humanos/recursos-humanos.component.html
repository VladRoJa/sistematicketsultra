<div class="subformulario-box">
  <form [formGroup]="parentForm">

    <!-- Categoría -->
    <mat-form-field appearance="fill">
      <mat-label>🗂️ Categoría</mat-label>
      <mat-select formControlName="categoria" (selectionChange)="onCategoriaChange()">
        <mat-option value="">Seleccione</mat-option>
        <mat-option *ngFor="let cat of categorias" [value]="cat.nombre">{{ cat.nombre }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Subcategoría -->
    <mat-form-field appearance="fill" *ngIf="subcategoriasDisponibles.length">
      <mat-label>📂 Subcategoría</mat-label>
      <mat-select formControlName="subcategoria" (selectionChange)="onSubcategoriaChange()">
        <mat-option value="">Seleccione</mat-option>
        <mat-option *ngFor="let sub of subcategoriasDisponibles" [value]="sub.nombre">{{ sub.nombre }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Detalle -->
    <mat-form-field appearance="fill" *ngIf="detallesDisponibles.length">
      <mat-label>📌 Detalle específico</mat-label>
      <mat-select formControlName="detalle">
        <mat-option value="">Seleccione</mat-option>
        <mat-option *ngFor="let det of detallesDisponibles" [value]="det">{{ det }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Descripción -->
    <mat-form-field appearance="fill">
      <mat-label>📋 Descripción del problema</mat-label>
      <textarea
        matInput
        formControlName="descripcion"
        class="descripcion-textarea"
        rows="4"
        placeholder="Detalla lo ocurrido con claridad..."></textarea>
    </mat-form-field>

  </form>
</div>
