<div class="subformulario-box">

  <form [formGroup]="parentForm">
  <!-- Categoría -->
  <mat-form-field appearance="fill">
    <mat-label>🗂️ Categoría</mat-label>
    <mat-select formControlName="categoria" (selectionChange)="onCategoriaChange()">
      <mat-option *ngFor="let cat of categoriasDisponibles" [value]="cat">{{ cat }}</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Subcategoría -->
  <mat-form-field appearance="fill" *ngIf="subcategoriasDisponibles.length > 0">
    <mat-label>📂 Subcategoría</mat-label>
    <mat-select formControlName="subcategoria" (selectionChange)="onSubcategoriaChange()">
      <mat-option *ngFor="let sub of subcategoriasDisponibles" [value]="sub">{{ sub }}</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Detalle -->
  <mat-form-field appearance="fill" *ngIf="detallesDisponibles.length > 0">
    <mat-label>📌 Detalle específico</mat-label>
    <mat-select formControlName="detalle">
      <mat-option *ngFor="let det of detallesDisponibles" [value]="det">{{ det }}</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Descripción -->
  <mat-form-field appearance="fill">
    <mat-label>📋 Descripción del problema</mat-label>
    <textarea matInput formControlName="descripcion" rows="4" placeholder="Detalla lo ocurrido..."></textarea>
  </mat-form-field>
</form>
