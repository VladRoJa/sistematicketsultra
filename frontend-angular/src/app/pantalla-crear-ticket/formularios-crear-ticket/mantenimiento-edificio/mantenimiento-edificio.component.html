<div [formGroup]="parentForm" class="formulario-ticket-container">
  <h3>ğŸ¢ Reporte de Edificio</h3>

  <!-- CategorÃ­a -->
  <div>
    <label for="categoriaPrincipal">ğŸ·ï¸ CategorÃ­a:</label>
    <select id="categoriaPrincipal" formControlName="categoria" (change)="categoriaSeleccionada = parentForm.get('categoria')?.value">
      <option value="">Seleccione</option>
      <option *ngFor="let categoria of getCategorias()" [value]="categoria">{{ categoria }}</option>
    </select>
  </div>

  <!-- SubcategorÃ­a -->
  <div *ngIf="parentForm.get('categoria')?.value">
    <label for="subcategoria">ğŸ› ï¸ SubcategorÃ­a:</label>
    <select id="subcategoria" formControlName="subcategoria" (change)="subcategoriaSeleccionada = parentForm.get('subcategoria')?.value">
      <option value="">Seleccione</option>
      <option *ngFor="let sub of getSubcategorias(parentForm.get('categoria')?.value)" [value]="sub">{{ sub }}</option>
    </select>
  </div>

  <!-- Sub-subcategorÃ­a -->
  <div *ngIf="parentForm.get('subcategoria')?.value">
    <label for="subsubcategoria">ğŸ§© Detalle especÃ­fico:</label>
    <select id="subsubcategoria" formControlName="subsubcategoria">
      <option value="">Seleccione</option>
      <option *ngFor="let detalle of getSubsubcategorias(parentForm.get('categoria')?.value, parentForm.get('subcategoria')?.value)" [value]="detalle">{{ detalle }}</option>
    </select>
  </div>

  <!-- DescripciÃ³n -->
  <div class="form-group-description">
    <label for="descripcion" class="descripcion-label">
      <span class="icon">ğŸ“‹</span> DescripciÃ³n del problema:
    </label>
    <textarea id="descripcion" formControlName="descripcion" class="descripcion-textarea" rows="4" placeholder="Detalla lo ocurrido con claridad..."></textarea>
  </div>
</div>
