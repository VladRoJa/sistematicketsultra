<div class="subformulario-box">
  <!-- Form sin submit, manejado por el padre -->
  <form [formGroup]="parentForm">

    <!-- CategorÃ­a -->
    <div class="form-group">
      <label>ğŸ—‚ï¸ CategorÃ­a:</label>
      <select formControlName="categoria" (change)="onCategoriaChange()">
        <option value="">Seleccione</option>
        <option *ngFor="let cat of categorias" [value]="cat.nombre">{{ cat.nombre }}</option>
      </select>
    </div>

    <!-- SubcategorÃ­a -->
    <div class="form-group" *ngIf="subcategoriasDisponibles.length > 0">
      <label>ğŸ“‚ SubcategorÃ­a:</label>
      <select formControlName="subcategoria" (change)="onSubcategoriaChange()">
        <option value="">Seleccione</option>
        <option *ngFor="let sub of subcategoriasDisponibles" [value]="sub.nombre">{{ sub.nombre }}</option>
      </select>
    </div>

    <!-- Detalle -->
    <div class="form-group" *ngIf="detallesDisponibles.length > 0">
      <label>ğŸ“Œ Detalle especÃ­fico:</label>
      <select formControlName="detalle">
        <option value="">Seleccione</option>
        <option *ngFor="let det of detallesDisponibles" [value]="det">{{ det }}</option>
      </select>
    </div>

    <!-- DescripciÃ³n -->
    <div class="form-group-description">
      <label for="descripcion" class="descripcion-label">
        <span class="icon">ğŸ“‹</span> DescripciÃ³n del problema:
      </label>
      
      <textarea
        id="descripcion"
        formControlName="descripcion"
        class="descripcion-textarea"
        rows="4"
        placeholder="Detalla lo ocurrido con claridad...">
      </textarea>
    </div>

  </form>
</div>

